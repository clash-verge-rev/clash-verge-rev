#!/bin/bash
set -euo pipefail

if ! command -v "cargo-make" >/dev/null 2>&1; then
  echo "❌ cargo-make is required for pre-commit checks."
  cargo install --force cargo-make
fi

if ! command -v pnpm >/dev/null 2>&1; then
  echo "❌ pnpm is required for pre-commit checks."
  exit 1
fi

cargo make pre-commit
