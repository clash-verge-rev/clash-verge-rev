# Colored makepkg-like functions
note() {
    printf "${_blue}==>${_yellow} NOTE:${_bold} %s${_all_off}\n" "$1"
}

_all_off="$(tput sgr0)"
_bold="${_all_off}$(tput bold)"
_blue="${_bold}$(tput setaf 4)"
_yellow="${_bold}$(tput setaf 3)"

post_install() {
    chmod +x /usr/bin/install-service
    chmod +x /usr/bin/uninstall-service
    chmod +x /usr/bin/clash-verge-service
}

post_upgrade() {
    # Now let us reload Clash Verge service automatically.
    if systemctl is-active --quiet clash-verge-service.service; then
        systemctl restart clash-verge-service.service
    fi

    note 'After upgrading Clash Verge Rev, it is recommended to restart Clash Verge Rev.'
}

pre_remove() {
    # Remove service file silently, as official Debian package does
    /usr/bin/uninstall-service
}
